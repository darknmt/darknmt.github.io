#+SETUPFILE: ../res/mathsetup.org
#+OPTIONS: toc:1 num:nil
# [[file:../img/ly-ngu-vong-nguyet.jpg]]

* Commutative diagram revisited
** xypic and xyJax
To my knowledge, the only way to type commutative diagram on the web is to use ~xyJax~, a
third-party extension of ~MathJax~ that render diagram using ~xypic~. This is also how
[[https://stacks.math.columbia.edu/][Stacks Project]] was set up.

The syntax of ~xypic~ is almost the same as ~tikz-cd~, to a basic user the only difference
is how arrows are typed. I learn ~xypic~ syntax by rewriting a GUI editor for ~tikzcd~ by
[[https://tikzcd.yichuanshen.de][Yichuan Shen]] to output ~xypic~ code. [[https://darknmt.github.io/res/xypic-editor/][Here]] is the ~xypic~ version of the editor. I also
host a copy of the ~tikz-cd~ editor [[http://darknmt.github.io/res/tikzcd-editor][here]].

The configuration of ~xyJax~ or any third-party extension MathJax was not very easy for
 me, since it seems that MathJax CDN no longer host third-party extensions. So I have to
 host my own copy of ~xyJax~ and tell MathJax CDN to use it, as indicated in [[http://docs.mathjax.org/en/latest/options/ThirdParty.html][its
 documentation]]. Also, one also has to [[https://github.com/sonoisa/XyJax/blob/master/README.md][reconfig a path]] in ~xyJax~.

To config MathJax in org-mode, apropos ~org-html-mathjax-template~.

* LaTeX in Inkscape: Incompatibility between ~ghostscript~ and ~pstoedit~ <2018-03-30 Fri>
Since Ghostscript 9.22, certain flags (e.g. ~dREALLYDEALYBIND~) are deprecated and ~pstoedit~,
a piece of software that Inkscape uses to render LaTeX, remains unchanged since 2005. This
makes Inkscape users unable use LaTeX. Textext developers claims that they will switch to
~pdf2svg~ frontend in their version 0.8 to avoid this trouble with ~pstoedit~. Meanwhile,
the only solution seems to be downgrade ghostscript to 9.21 each time one uses Inkscape.
In ArchLinux, one can downgrade a package using ~pacman~: 

#+BEGIN_SRC bash
ls /var/cache/pacman/pkg/ | grep ghostscript
pacman -U /var/cache/pacman/pkg/package-old_version.pkg.tar.xz
#+END_SRC

or a AUR package called ~downgrade~

#+BEGIN_SRC bash
downgrade ghostscript
#+END_SRC

I had good experience with both of them (~pacman~ to downgrade ~php~ to be compatible
with ~nextcloud~, and ~downgrade~ for ghostscript)


The problem is well documented [[https://bbs.archlinux.org/viewtopic.php?id=224340][here]] and [[https://bitbucket.org/pitgarbe/textext/issues/48/ghostscript-still-bug-under-linux][here]].

* A suspicious formula

  I believe the second lemma in Section 7B of cite:eells_harmonic_1964 is incorrect. To
  recall the setting and notation, the goal of the 3 pages 138-140 is to translate the
  deformation equation \(df_t/dt = \tau(f_t)\) , where \(f_t\) is a deformation of a function
  \(f: M \to M'\) and \(\tau\) is the torsion field, to a global equation by embedding \(M'\) into a
  Euclidean space \( R^q \). The tricky detail, (which, in my oppinion, was a bit oversimplified in
  cite:eells_two_1995), involves using at the same time 2 metric structures on a same space:
- First equip a tubular neighborhood \( N \) of \(M'\) in \(R^q\) a new metric \(g''\) (the Lemma on page
  138), which is, to reformulate, the product metric of \(N \cong M' \times B\) (the
  diffeomorphism is by exponential map) where B is a ball of dimension = codimension of \(M'\)
  in \( R^q \), equipped with the Euclidean metric.
- For \(Q\in N\), let \(\pi(Q)\in M\) denote the (geodesic) projection of \( Q \) on \( M \) and
  \(\rho(Q)\in \mathcal{N}_{M'/ \mathbb{R}^q}\) is the normal vector of \( M \) at \(\pi(Q)\) such that
  \(\exp_{\pi(Q)}(\rho(Q)) = Q\). Interpreting \( \pi(Q) \) and \( \rho(Q) \) as vector in
  \( \mathbb{R}^q \), one can write \(\rho(Q) = Q - \pi(Q)\).
- Denote by \( w^a, w^b,w^c,\dots \) the coordinate in Euclidean frame of \( \mathbb{R}^q
  \) and by \( y^\alpha, y^\beta, y^\gamma,\dots \) the local coordinate of \( M' \). Then \(
  \pi^c_a + \rho^c_a = \delta^c_a \) and the covariant differential w.r.t \( g'' \) is
  \[
   \pi^c_{ab} = \frac{\partial^2 \pi^c}{\partial w^a \partial w^b} - \Gamma''^d_{ab}\pi^c_d
  \]
  where \( \Gamma'' \) are Christoffel symbols of \( g''\). Also, \( \rho^c_{ab} + \pi^c_{ab}+\Gamma''^c_{ab} = 0 \).

Now cite:eells_harmonic_1964 claims that on \( M' \):
\begin{equation}
\label{eq:double}
 -\rho^c_{ab}w^a_\alpha w^b_\beta = \frac{\partial^2 \pi^c}{\partial w^a \partial w^b}w^a_\alpha w^b_\beta =
\rho^c_b \frac{\partial^2\pi^b}{\partial y^\alpha \partial y^\beta}
\end{equation}
therefore
#+ATTR_HTML: :id lem:suspicious
#+BEGIN_lemma
#+LATEX: \label{lem:suspicious}
For any vector \( U,V\in T_Q M' \) the vector \(\rho^c_{ab}U^a V^b \) is perpendicular to \(T_{Q}M'\)
#+END_lemma

I believe that the first half of eqref:eq:double (hence also the Lemma) is incorrect. 

#+BEGIN_remark
In fact, all applications of the Lemma in the section 7 of
cite:eells_harmonic_1964 concern the second half of eqref:eq:double, in order to claim that any vector
\( \frac{\partial^2\pi^c}{\partial w^a \partial w^b}U^b  V^a \tilde e_c \) is perpendicular to \( TM'
\), if the vectors \( U,V \) are tangent to \( M \).
#+END_remark



For the detail, since
\[
 -\rho^c_{ab} = \pi^c_{ab} + \Gamma''^c_{ab} = \frac{\partial^2 \pi^c}{\partial w^a
\partial w^b} - \Gamma''^d_{ab}\pi^c_d +\Gamma''^c_{ab}
\]
the claim is equivalent to
\( \Gamma''^d_{ab}\pi^c_d w^a_\alpha w^b_\beta = \Gamma''^c_{ab}w^a_\alpha w^b_\beta \),
in other words
\( pr_{TM'}(\Gamma''^c_{ab}\tilde e_c w^a_\alpha w^b_\beta) =
\Gamma''^c_{ab}\tilde e_c w^a_\alpha w^b_\beta \), meaning that
\(
 (\nabla''_{e_\alpha}\tilde e_b)w^b_\beta \in TM'
\)
Note that
\[
 (\nabla''_{e_\alpha}\tilde e_b)w^b_\beta = \nabla''_{e_\alpha} e_\beta - {e_\alpha}
(w^b_\beta) \tilde e_b = \nabla''_{e_\alpha} e_\beta - \nabla_{e_\alpha}(w^b_\beta \tilde
e_b) = \nabla''_{e_\alpha} e_\beta - \nabla_{e_\alpha}e_\beta
\]
where \( \nabla \) is Levi-Civita connection of \( \mathbb{R}^q \) corresponding to Euclidean metric, and \(
\tilde e_b \) is the \( b^{\rm th} \) vector field corresponding to the canonical coordinate of
\( \mathbb{R}^q \), therefore \( \nabla \tilde e_b = 0 \).

Now already \( \nabla''_{e_\alpha} e_\beta \in TM' \) since \( e_\alpha, e_\beta\in TM' \) and \( \nabla'' \) is the
Levi-Civita of the induced metric on \( M' \). The problem is the term \(
\nabla_{e_\alpha}e_\beta \), which is not only different from \(\nabla''_{e_\alpha} e_\beta\)
even when the metric \( g'' \) and the Euclidean metric coincide on \( M' \) containing
the flow of \( e_\alpha \), but also not necessarily lies in \( TM' \).

A counter example is \( M'= \mathbb{S}^1\subset \mathbb{R}^2 \) with \( e_\alpha=e_\beta \)
defined by \( (\cos t, \sin t) \mapsto \sin t\ dx - \cos t\ dy  \) (the geodesic field on \(
M' \)) then \( \nabla_{e_\alpha}e_\beta = \cos t\ dx + \sin t\ dy \) is perpendicular to \( TM' \). 

# In fact, it is always true that \( \nabla_{U} V \) is perpendicular to \( TM'
# \) for \( U, V\in T_QM' \), since \( \nabla_{U}V = \nabla_{U}\nabla_{V} \pi \perp T_QM'\)
# by the second half of eqref:eq:double.


bibliographystyle:alpha bibliography:../res/Stage2018.bib

* LaTeX indentation in org-mode <2018-02-20 Tue>
  I was told, in accordance with my experience, that we visually process text better if
  each line in a paragraph is approximately below 80 characters. This fact is also
  omnipresent on the internet, standardized tests, books, etc.. being among the
  fundamentals of web design (except wikipedia, that's why I use Wikiwand).

  In Emacs, the key binding ~M-q~ will execute the ~fill-paragraph~ function that
  automatically shrinks text and insert "soft" newlines to shorten line below a certain
  threshold. This function however does not respect the LaTeX structure, e.g. it inserts
  line break inside inline equation and merge display equation.
  format paragraph.

#+BEGIN_SRC org
  This is a long long long long long long long long long paragraph with equation \( 1+1 = 
  2+0=3-1=4-2 \) with an equation in display \[ 1+ 1 = 2\].
#+END_SRC

The problem has been noticed around the Internet [[https://emacs.stackexchange.com/questions/29122/prevent-fill-paragraph-from-breaking-latex-displayed-equations-in-org-mode][here]] and [[https://emacs.stackexchange.com/questions/34938/is-there-a-fill-paragraph-function-which-tries-to-not-break-subordinate-parenthe?rq=1][there]].  

Meanwhile AucTeX does not have this annoying problem. [[https://www.gnu.org/software/auctex/manual/auctex.html#index-LaTeX_002dfill_002dbreak_002dat_002dseparators][It turns out]] that AUCTeX maps the
~M-q~ key to a different function, called ~LaTeX-fill-paragraph~. So the temporary fix is
to load ~latex.el~ in org-mode and maps ~M-q~ to ~LaTeX-fill-paragraph~

#+BEGIN_SRC org
(load "latex.el")
(global-set-key "\M-q" 'LaTeX-fill-paragraph)
#+END_SRC

* A (decent) map of mathematics <2017-10-17 Tue>

  I saw this [[https://www.flickr.com/photos/95869671@N08/32264483720][map of mathematics]] somewhere on YouTube and then again on the door of
  someone's office at the I2M. Although this map may help popularise mathematics, it
  should raise an eyebrow of a serious math student (or even an attentive highschool
  student, as for example 1 was listed among prime numbers in an earlier version of this
  map).

  For a decent map of Mathematics, made by a mathematician, see [[http://www.math.unm.edu/~buium/mapp.pdf][this]].

* My 2016-2017 internship <2017-07-31 Mon> 

I have just recently finished my Stage3A at [[https://www.i2m.univ-amu.fr/][Institut de Math√©matiques de Marseille]]. It is
also in this period that I start this blog. The memoire can be founded here [[[../res/Stage2017.pdf][PDF]]]
